# DNS Server

The nameserver (DNS server) ordered list can be found here:

```bash
cat /etc/resolv.conf                                        16:59.14 Thu Sep 10 2020 >>>
# Generated by NetworkManager
nameserver 10.100.102.1
```

1) We can add nameservers that would be chosen before `10.100.102.1` by prepending them in `sbin/dhclient`:

    ```bash
    vi /etc/dhcp/dhclient.conf

    # prepend domain-name-servers $my_proxy_ip
    ```

    Checking the nameservers again, we see that `my_proxy_ip` is added before `10.100.102.1`:

    ```bash
    cat /etc/resolv.conf                                        16:59.14 Thu Sep 10 2020 >>>
    # Generated by NetworkManager
    nameserver my_proxy_ip
    nameserver 10.100.102.1

    ```

2) We then need to restart the Network Manager service:

    ```bash
    service network-manager restart
    ```

To disable the service (for setting up pihole) we can run:

```bash
sudo systemctl stop systemd-resolved.service
sudo systemctl disable systemd-resolved.service

```
