<!doctype html>
<html lang="en" dir="ltr" class="blog-wrapper blog-post-page plugin-blog plugin-id-default" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.5.2">
<title data-rh="true">MacBook Pro 2020 High CPU caused by Siri | Kobbi&#x27;s Knowledgebase</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://kbbgl.github.io/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://kbbgl.github.io/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://kbbgl.github.io/blog/macbook-pro-2020-high-cpu-caused-siri"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docusaurus_tag" content="default"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docsearch:docusaurus_tag" content="default"><meta data-rh="true" property="og:title" content="MacBook Pro 2020 High CPU caused by Siri | Kobbi&#x27;s Knowledgebase"><meta data-rh="true" name="description" content="Fill me up!"><meta data-rh="true" property="og:description" content="Fill me up!"><meta data-rh="true" property="og:type" content="article"><meta data-rh="true" property="article:published_time" content="2025-01-31T01:24:31.000Z"><meta data-rh="true" property="article:author" content="https://github.com/kbbgl"><meta data-rh="true" property="article:tag" content="Apple,Corespeechd,Cpu,Debugging,Macos"><link data-rh="true" rel="icon" href="/img/favicon.svg"><link data-rh="true" rel="canonical" href="https://kbbgl.github.io/blog/macbook-pro-2020-high-cpu-caused-siri"><link data-rh="true" rel="alternate" href="https://kbbgl.github.io/blog/macbook-pro-2020-high-cpu-caused-siri" hreflang="en"><link data-rh="true" rel="alternate" href="https://kbbgl.github.io/blog/macbook-pro-2020-high-cpu-caused-siri" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","@id":"https://kbbgl.github.io/blog/macbook-pro-2020-high-cpu-caused-siri","mainEntityOfPage":"https://kbbgl.github.io/blog/macbook-pro-2020-high-cpu-caused-siri","url":"https://kbbgl.github.io/blog/macbook-pro-2020-high-cpu-caused-siri","headline":"MacBook Pro 2020 High CPU caused by Siri","name":"MacBook Pro 2020 High CPU caused by Siri","description":"Fill me up!","datePublished":"2025-01-31T01:24:31.000Z","author":{"@type":"Person","name":"Kobbi Gal","description":"I like to pick things apart and see how they work inside","url":"https://github.com/kbbgl","image":"https://avatars.githubusercontent.com/u/14372649"},"keywords":[],"isPartOf":{"@type":"Blog","@id":"https://kbbgl.github.io/blog","name":"Blog"}}</script><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Kobbi&#39;s Knowledgebase RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Kobbi&#39;s Knowledgebase Atom Feed"><link rel="stylesheet" href="/assets/css/styles.735d0977.css">
<script src="/assets/js/runtime~main.70dd7be0.js" defer="defer"></script>
<script src="/assets/js/main.cdaa942f.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/logo.svg" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Kobbi&#x27;s Knowledgebase</b></a><a class="navbar__item navbar__link" href="/docs/cloud_services/aws/configure-aws-cli">Docs</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" sidebarid="blogSidebar" href="/blog">Blog</a><a class="navbar__item navbar__link" sidebarid="hackBlogSidebar" href="/hack_blog">Hack Blog</a></div><div class="navbar__items navbar__items--right"><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_re4s thin-scrollbar" aria-label="Blog recent posts navigation"><div class="sidebarItemTitle_pO2u margin-bottom--md">Recent posts</div><div role="group"><h3 class="yearGroupHeading_rMGB">2025</h3><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/3-way-data-migration-between-support-systems">3-Way Data Migration between Support Systems</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/angstrom-ctf2021-exploiting-python-pickle-in-flask">Angstrom CTF2021 | Exploiting Python Pickle in Flask Web App</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/catch-ebusy-on-nodejs">How To Catch EBUSY Event on Windows using NodeJS</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/debugging-nodejs-microservice-with-shared-storage-on-kubernetes">Debugging NodeJS Microservice with Shared Storage on Kubernetes</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/dotless-email-regex-validation-swagger">How To Set Up Dotless Email Validation in Swagger</a></li></ul></div></nav></aside><main class="col col--7"><article><header><h1 class="title_f1Hy">MacBook Pro 2020 High CPU caused by Siri</h1><div class="container_mt6G margin-vert--md"><time datetime="2025-01-31T01:24:31.000Z">January 31, 2025</time> · <!-- -->7 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--12 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/kbbgl" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo authorImage_XqGP" src="https://avatars.githubusercontent.com/u/14372649" alt="Kobbi Gal"></a><div class="avatar__intro authorDetails_lV9A"><div class="avatar__name"><a href="https://github.com/kbbgl" target="_blank" rel="noopener noreferrer"><span class="authorName_yefp">Kobbi Gal</span></a></div><small class="authorTitle_nd0D" title="I like to pick things apart and see how they work inside">I like to pick things apart and see how they work inside</small><div class="authorSocials_rSDt"></div></div></div></div></div></header><div id="__blog-post-container" class="markdown"><h2 class="anchor anchorWithStickyNavbar_LWe7" id="introduction">Introduction<a href="#introduction" class="hash-link" aria-label="Direct link to Introduction" title="Direct link to Introduction">​</a></h2>
<p>A few months ago, I received a highly-anticipated 2020 32GB, 2.3 GHz Quad-Core Intel Core i7 MacBook Pro. Highly-anticipated because I already had one stolen (a 2019 version) earlier last year in a robbery in an AirBnB apartment I was renting while I was staying in Barcelona. It was quite a dramatic story but I won’t get into the details. This is a tech blog after all.</p>
<p>Back to the new computer I acquired, the thing was flying. I could open large projects in IntelliJ and VSCode, run a Kubernetes cluster using <a href="https://minikube.sigs.k8s.io/docs/start/" target="_blank" rel="noopener noreferrer"><code>minikube</code></a> and endless amounts of terminals simultaneously on different workspaces and the thing would not miss a beat.</p>
<p>Within the first week of receiving machine, I got a notification indicating that there was a system update. I never had any fears come with system updates. I always found myself jumping ship and hoping no regressions or new issues are introduced upon upgrades/updates. I’m not a skeptic, I believe Apple’s QA is up to the highest testing standards.</p>
<p>Anyway, I let the update run for a few hours and after a couple of restarts, the OS was back up and could work on the machine again.</p>
<p>Pretty soon thereafter, I heard the machine fan working intensively and the low-carbon aluminum enclosure was excessively hot. I also noticed that I the interaction with the OS and applications was crawlingly-slow. I even had the machine crash 2-3 times! I decided I had enough and that it was time to put on my Sherlock Holmes hat and start the investigation.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="finding-the-culprit-process">Finding the Culprit Process<a href="#finding-the-culprit-process" class="hash-link" aria-label="Direct link to Finding the Culprit Process" title="Direct link to Finding the Culprit Process">​</a></h2>
<p>It makes sense that the first place to review would be Activity Monitor. It allows us to check the amount of energy each running process is utilizing in addition to CPU cycles and RAM allocation. Below is the screenshot of what I saw after launching Activity Monitor:</p>
<p><img decoding="async" loading="lazy" src="https://tilsupport.files.wordpress.com/2021/03/image.png" alt="activity-monitor" class="img_ev3q"></p>
<p>We can see that the top process, <code>ZscalerTunnel</code> was really using up the CPU. I knew what this process belonged to (a VPN service). I was able to fix the <code>ZscalerTunnel</code> CPU hog by installing the latest version of the application and restarting the machine.</p>
<p>But the second process, <code>corespeechd</code> was not letting go and was at times using between 3 to 4 CPUs (300-400%). And the worst part was that I had no idea what <code>corespeechd</code> was (aside from a guess that it was some sort of daemon because of the letter ‘d’ in the suffix).</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="what-is-corespeechd">What is <code>corespeechd</code>?<a href="#what-is-corespeechd" class="hash-link" aria-label="Direct link to what-is-corespeechd" title="Direct link to what-is-corespeechd">​</a></h2>
<p>This question was hard to find online. I believe because I am not a registered Apple developer, I could not see any relevant documentation about this process/service. What I did find was that many people had a problem with this daemon hogging machine resources such as <a href="https://discussions.apple.com/thread/8643914?page=2" target="_blank" rel="noopener noreferrer">massive network utilization (1)</a> and <a href="https://discussions.apple.com/thread/250955260?page=2" target="_blank" rel="noopener noreferrer">massive network utilization (2)</a>. And I also found a lot of people experiencing the <a href="https://forums.macrumors.com/threads/cpu-usage-corespeechd.2158710/" target="_blank" rel="noopener noreferrer">high CPU consumption</a> and on <a href="https://twitter.com/alecmuffett/status/1089721018015539200?lang=en" target="_blank" rel="noopener noreferrer">Twitter as well</a>.</p>
<p>According to the online research, all fingers were pointing to one feature: Siri. In addition, all recommendations to mitigate this issue mentioned disabling/enabling or turning off Siri completely. Unfortunately for me, corespeechd was still causing problems after my attempt to disable Siri.
Since the machine had crashed a few times, I decided the next step would be to review the system crash report.
What I found was that the OS crashed because of a segmentation fault:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Crashed Thread:        </span><span class="token number" style="color:#36acaa">0</span><span class="token plain">  Dispatch queue: com.apple.main-thread</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Exception Type:        EXC_BAD_ACCESS </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">SIGSEGV</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Exception Codes:       KERN_INVALID_ADDRESS at 0x0000000108745050</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Exception Note:        EXC_CORPSE_NOTIFY</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Termination Signal:    Segmentation fault: </span><span class="token number" style="color:#36acaa">11</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Termination Reason:    Namespace SIGNAL, Code 0xb</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Terminating Process:   exc handler </span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">11719</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Thread </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"> Crashed:: Dispatch queue: com.apple.main-thread</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">0</span><span class="token plain">   libobjc.A.dylib                0x00007fff202639af objc_release + </span><span class="token number" style="color:#36acaa">15</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">1</span><span class="token plain">   com.apple.CoreFoundation       0x00007fff20478a76 -</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">__NSDictionaryI dealloc</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> + </span><span class="token number" style="color:#36acaa">146</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">2</span><span class="token plain">   libobjc.A.dylib                0x00007fff2028139d AutoreleasePoolPage::releaseUntil</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">objc_object**</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> + </span><span class="token number" style="color:#36acaa">167</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">3</span><span class="token plain">   libobjc.A.dylib                0x00007fff2026433e objc_autoreleasePoolPop + </span><span class="token number" style="color:#36acaa">161</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">4</span><span class="token plain">   com.apple.CoreFoundation       0x00007fff2047e1f0 _CFAutoreleasePoolPop + </span><span class="token number" style="color:#36acaa">22</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">5</span><span class="token plain">   com.apple.CoreFoundation       0x00007fff20587748 __CFRunLoopPerCalloutARPEnd + </span><span class="token number" style="color:#36acaa">41</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">6</span><span class="token plain">   com.apple.CoreFoundation       0x00007fff204bc88b __CFRunLoopRun + </span><span class="token number" style="color:#36acaa">2788</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">7</span><span class="token plain">   com.apple.CoreFoundation       0x00007fff204bb6ce CFRunLoopRunSpecific + </span><span class="token number" style="color:#36acaa">563</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">8</span><span class="token plain">   com.apple.Foundation           0x00007fff21248fa1 -</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">NSRunLoop</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">NSRunLoop</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> runMode:beforeDate:</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> + </span><span class="token number" style="color:#36acaa">212</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">9</span><span class="token plain">   com.apple.Foundation           0x00007fff212d7384 -</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">NSRunLoop</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">NSRunLoop</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> run</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> + </span><span class="token number" style="color:#36acaa">76</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">10</span><span class="token plain">  com.apple.authorizationhost    0x0000000108661727 main + </span><span class="token number" style="color:#36acaa">302</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">11</span><span class="token plain">  libdyld.dylib                  0x00007fff203e0621 start + </span><span class="token number" style="color:#36acaa">1</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>What was immediately visible was that there were instructions in memory address <code>0x00007fff20478a76</code> that were being allocated by the <code>com.apple.CoreFoundation</code> package. This gave me the evidence I needed that tied the system crash to the issues witnessed by the <code>Core</code> services.</p>
<p>I decided to run <code>corespeechd</code> using <code>strace</code> so I could see what system calls the process was executing during run-time. I found the following output indicating there was some permission issues attempting to access a certain process probe:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">dtrace: error on enabled probe ID </span><span class="token number" style="color:#36acaa">2378</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">ID </span><span class="token number" style="color:#36acaa">918</span><span class="token plain">: syscall::kevent_id:return</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">: invalid user access </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> action </span><span class="token comment" style="color:#999988;font-style:italic">#5 at DIF offset 0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">dtrace: error on enabled probe ID </span><span class="token number" style="color:#36acaa">2385</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">ID </span><span class="token number" style="color:#36acaa">904</span><span class="token plain">: syscall::workq_kernreturn:return</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">: invalid user access </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> action </span><span class="token comment" style="color:#999988;font-style:italic">#5 at DIF offset 0</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="using-launchctl-to-disable-corespeechd">Using <code>launchctl</code> to Disable <code>corespeechd</code><a href="#using-launchctl-to-disable-corespeechd" class="hash-link" aria-label="Direct link to using-launchctl-to-disable-corespeechd" title="Direct link to using-launchctl-to-disable-corespeechd">​</a></h2>
<p>Since Siri was already off, I was pretty sure that if I found a way to completely disable <code>corespeechd</code>, I would be able to release the daemon from eating up my processors.</p>
<p>I am familiar with using <code>systemctl</code> and <code>init.d</code> on Linux to be able to control system services. On Windows I usually just use the <code>Stop-Service</code> PowerShell cmdlet. But for Mac I wasn’t sure what command line tool needs to be used. I found out that the preferred way is to use <code>launchctl</code>.</p>
<p>I also wanted to understand where MacOS startup scripts are stored. I found out that there were 5 different directories:</p>
<ul>
<li><code>/System/Library/LaunchDaemons/</code> – System-wide daemons provided by the operating system.</li>
<li><code>/System/Library/LaunchAgents/</code> – Per-user agents provided by the operating system.</li>
<li><code>~/Library/LaunchAgents/</code> – Per-user agents provided by the user.</li>
<li><code>/Library/LaunchAgents/</code> – Per-user agents provided by the administrator.</li>
<li><code>/Library/LaunchDaemons/</code> – System-wide daemons provided by the administrator.</li>
</ul>
<p><code>launchd</code> manages the processes, both for the system as a whole and for individual users using configuration files with the <code>.plist</code> extension.</p>
<p>I reviewed the <code>launchctl</code> <code>man</code> page and found that we can disable a service by using the <code>unload</code> command, for example:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">sudo</span><span class="token plain"> launchctl unload </span><span class="token parameter variable" style="color:#36acaa">-w</span><span class="token plain"> com.apple.corespeechd</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>That looked great! The <code>corespeechd</code> daemon was no longer running and my CPU was back to normal consumption. Unfortunately, I realized my celebrations were premature when I restarted my machine. <code>corespeechd</code> was back up and feasting on my machine resources again.</p>
<p>I went back to the <code>launchctl man</code> page and found that there was another option, <code>remove</code>, that could do the trick as it seemed to perform a persistent disabling of services (unlike the <code>unload</code> operation which was temporary until system restart relaunched all daemons). The problem was that I was unable to run the command:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">sudo</span><span class="token plain"> launchctl remove com.apple.corespeechd</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>because the operating system had <a href="https://support.apple.com/en-us/HT204899" target="_blank" rel="noopener noreferrer">System Integrity Protection (SIP)</a> enabled. I found that I could use the csrutil command-line tool to interact with SIP. To interact with SIP, we need to go into Recovery Mode.</p>
<p>tl;dr ,these are the steps I took to completely disable <code>corespeechd</code>:</p>
<ol>
<li>Reboot the machine.</li>
<li>Press and hold <code>Command + R</code>.</li>
<li>Once the Recovery menu loads up, in the top menu bar, select <code>Utilities &gt; Terminal</code>.</li>
<li>Run the following command to disable System Integrity Protection (SIP):</li>
</ol>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">csrutil disable</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ol>
<li>Reboot the machine.</li>
<li>Press and hold Command + R.</li>
<li>Once the Recovery menu loads up, in the top menu bar, select Utilities &gt; Terminal.</li>
<li>Run the following command to disable System Integrity Protection (SIP):</li>
</ol>
<p>You should see the following message to acknowledge that SIP was actually disabled:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">System Integrity Protection status: disabled.</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ol>
<li>Reboot the machine.</li>
<li>When OS loads, open a Terminal and run the following command to disable <code>corespeechd</code> daemon:</li>
</ol>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">sudo</span><span class="token plain"> launchctl remove com.apple.corespeechd</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>You should see that corespeechd daemon is no longer running and consuming massive CPU!</p></div><footer class="docusaurus-mt-lg"><div class="row margin-top--sm theme-blog-footer-edit-meta-row"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/apple">Apple</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/corespeechd">Corespeechd</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/cpu">Cpu</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/debugging">Debugging</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/macos">Macos</a></li></ul></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Blog post page navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/blog/installing-ubuntu-2004-on-2013-macbook-air"><div class="pagination-nav__sublabel">Newer post</div><div class="pagination-nav__label">Installing Ubuntu 20.04 on 2013 MacBook Air</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/blog/prod-down-mongodb-corrupt-heketi-glusterfs-provisioning"><div class="pagination-nav__sublabel">Older post</div><div class="pagination-nav__label">Fixing Production Down caused by MongoDB Corruption and Heketi/GlusterFS Failed Provisioning</div></a></nav></main><div class="col col--2"><div class="tableOfContents_bqdL thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#introduction" class="table-of-contents__link toc-highlight">Introduction</a></li><li><a href="#finding-the-culprit-process" class="table-of-contents__link toc-highlight">Finding the Culprit Process</a></li><li><a href="#what-is-corespeechd" class="table-of-contents__link toc-highlight">What is <code>corespeechd</code>?</a></li><li><a href="#using-launchctl-to-disable-corespeechd" class="table-of-contents__link toc-highlight">Using <code>launchctl</code> to Disable <code>corespeechd</code></a></li></ul></div></div></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Knowledgebase</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/intro">Knowledgebase</a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/blog">Blog</a></li><li class="footer__item"><a class="footer__link-item" href="/hack_blog">Hack Blog</a></li><li class="footer__item"><a href="https://github.com/kbbgl" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 Kobbi's Knowledgebase, Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>