"use strict";(globalThis.webpackChunkkgkb=globalThis.webpackChunkkgkb||[]).push([[9954],{78707:(e,n,l)=>{l.r(n),l.d(n,{assets:()=>r,contentTitle:()=>t,default:()=>g,frontMatter:()=>s,metadata:()=>o,toc:()=>d});var i=l(74848),a=l(28453);const s={title:"Using Delve Debugger",slug:"how-to-debug-go-code-delve",authors:["kbgll"],tags:["go","debugging","debug","gdb"]},t=void 0,o={id:"software/languages/go/debugger",title:"Using Delve Debugger",description:"Sources:",source:"@site/docs/software/languages/go/debugger.md",sourceDirName:"software/languages/go",slug:"/software/languages/go/how-to-debug-go-code-delve",permalink:"/docs/software/languages/go/how-to-debug-go-code-delve",draft:!1,unlisted:!1,tags:[{inline:!0,label:"go",permalink:"/docs/tags/go"},{inline:!0,label:"debugging",permalink:"/docs/tags/debugging"},{inline:!0,label:"debug",permalink:"/docs/tags/debug"},{inline:!0,label:"gdb",permalink:"/docs/tags/gdb"}],version:"current",frontMatter:{title:"Using Delve Debugger",slug:"how-to-debug-go-code-delve",authors:["kbgll"],tags:["go","debugging","debug","gdb"]},sidebar:"docsSidebar",previous:{title:"Channels (chan) and goroutines (Concurrency)",permalink:"/docs/software/languages/go/channels-and-routines"},next:{title:"Functions",permalink:"/docs/software/languages/go/functions"}},r={},d=[{value:"Sources:",id:"sources",level:4},{value:"Building and Running",id:"building-and-running",level:2},{value:"Attach to Process",id:"attach-to-process",level:2},{value:"Debugging Code",id:"debugging-code",level:2},{value:"Breakpoints",id:"breakpoints",level:3},{value:"Set Breakpoint",id:"set-breakpoint",level:4},{value:"List/Clear Breakpoints",id:"listclear-breakpoints",level:4},{value:"Control Flow",id:"control-flow",level:3},{value:"See what code line we&#39;re in",id:"see-what-code-line-were-in",level:4},{value:"Continue until breakpoint/exit",id:"continue-until-breakpointexit",level:4},{value:"Go To Next Line",id:"go-to-next-line",level:4},{value:"Step Into Function",id:"step-into-function",level:4},{value:"Examine Variables",id:"examine-variables",level:3},{value:"List local variables",id:"list-local-variables",level:4},{value:"Print variable",id:"print-variable",level:4}];function c(e){const n={a:"a",code:"code",h2:"h2",h3:"h3",h4:"h4",li:"li",p:"p",pre:"pre",ul:"ul",...(0,a.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.h4,{id:"sources",children:"Sources:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://chetan177.medium.com/runtime-debugging-in-golang-b8a065d0fb5e",children:"https://chetan177.medium.com/runtime-debugging-in-golang-b8a065d0fb5e"})}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"building-and-running",children:"Building and Running"}),"\n",(0,i.jsxs)(n.p,{children:["After making code changes in ",(0,i.jsx)(n.code,{children:"/path/to/server"}),", build the binary:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'go build -gcflags="all=-N -l" -v\n'})}),"\n",(0,i.jsx)(n.p,{children:"The flags all"}),"\n",(0,i.jsx)(n.p,{children:"Then run server:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"./server -stdout -loglevel debug\n"})}),"\n",(0,i.jsx)(n.h2,{id:"attach-to-process",children:"Attach to Process"}),"\n",(0,i.jsx)(n.p,{children:"On another session, attach debugger:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"$GOPATH/bin/dlv attach $(pidof server)\n"})}),"\n",(0,i.jsx)(n.h2,{id:"debugging-code",children:"Debugging Code"}),"\n",(0,i.jsx)(n.h3,{id:"breakpoints",children:"Breakpoints"}),"\n",(0,i.jsx)(n.h4,{id:"set-breakpoint",children:"Set Breakpoint"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"break /path/to/module.go:120\n"})}),"\n",(0,i.jsx)(n.h4,{id:"listclear-breakpoints",children:"List/Clear Breakpoints"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"breakpoints\nclear 1\n"})}),"\n",(0,i.jsx)(n.h3,{id:"control-flow",children:"Control Flow"}),"\n",(0,i.jsx)(n.h4,{id:"see-what-code-line-were-in",children:"See what code line we're in"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"(dlv) l\n"})}),"\n",(0,i.jsx)(n.h4,{id:"continue-until-breakpointexit",children:"Continue until breakpoint/exit"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"(dlv) c\n"})}),"\n",(0,i.jsx)(n.h4,{id:"go-to-next-line",children:"Go To Next Line"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"(dlv) n\n"})}),"\n",(0,i.jsx)(n.h4,{id:"step-into-function",children:"Step Into Function"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"step\n"})}),"\n",(0,i.jsx)(n.h3,{id:"examine-variables",children:"Examine Variables"}),"\n",(0,i.jsx)(n.h4,{id:"list-local-variables",children:"List local variables"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"locals\n"})}),"\n",(0,i.jsx)(n.h4,{id:"print-variable",children:"Print variable"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"print x\n"})})]})}function g(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(c,{...e})}):c(e)}},28453:(e,n,l)=>{l.d(n,{R:()=>t,x:()=>o});var i=l(96540);const a={},s=i.createContext(a);function t(e){const n=i.useContext(s);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:t(e.components),i.createElement(s.Provider,{value:n},e.children)}}}]);