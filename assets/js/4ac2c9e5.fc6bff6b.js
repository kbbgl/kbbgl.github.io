"use strict";(globalThis.webpackChunkkgkb=globalThis.webpackChunkkgkb||[]).push([[46019],{54135:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>l,contentTitle:()=>r,default:()=>u,frontMatter:()=>o,metadata:()=>s,toc:()=>c});var i=a(74848),n=a(28453);const o={},r=void 0,s={id:"software/containerization/kubernetes/High Availability/Cluster_High_Availability",title:"Cluster_High_Availability",description:"Cluster High Availability",source:"@site/docs/software/containerization/kubernetes/High Availability/1._Cluster_High_Availability.md",sourceDirName:"software/containerization/kubernetes/High Availability",slug:"/software/containerization/kubernetes/High Availability/Cluster_High_Availability",permalink:"/docs/software/containerization/kubernetes/High Availability/Cluster_High_Availability",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:1,frontMatter:{},sidebar:"docsSidebar",previous:{title:"helm Cheatsheet",permalink:"/docs/software/containerization/kubernetes/Helm/helm-cheatsheet"},next:{title:"Collocated_Databases",permalink:"/docs/software/containerization/kubernetes/High Availability/Collocated_Databases"}},l={},c=[{value:"Cluster High Availability",id:"cluster-high-availability",level:2}];function d(e){const t={code:"code",h2:"h2",p:"p",...(0,n.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(t.h2,{id:"cluster-high-availability",children:"Cluster High Availability"}),"\n",(0,i.jsxs)(t.p,{children:["A newer feature of ",(0,i.jsx)(t.code,{children:"kubeadm"})," is the integrated ability to join multiple master nodes with collocated ",(0,i.jsx)(t.code,{children:"etcd"})," databases. This allows for higher redundancy and fault tolerance. As long as the database services the cluster will continue to run and catch up with ",(0,i.jsx)(t.code,{children:"kubelet"})," information should the master node go down and be brought back online."]}),"\n",(0,i.jsxs)(t.p,{children:["Three instances are required for ",(0,i.jsx)(t.code,{children:"etcd"})," to be able to determine quorum if the data is accurate, or if the data is corrupt, the database could become unavailable. Once ",(0,i.jsx)(t.code,{children:"etcd"})," is able to determine quorum, it will elect a leader and return to functioning as it had before failure."]}),"\n",(0,i.jsxs)(t.p,{children:["One can either collocate the database with control planes or use an external ",(0,i.jsx)(t.code,{children:"etcd"})," database cluster. The ",(0,i.jsx)(t.code,{children:"kubeadm"})," command makes the collocated deployment easier to use."]}),"\n",(0,i.jsx)(t.p,{children:"To ensure that workers and other control planes continue to have access, it is a good idea to use a load balancer. The default configuration leverages SSL, so you may need to configure the load balancer as a TCP pass through unless you want the extra work of certificate configuration. As the certificates will be decoded only for particular node names, it is a good idea to use a FQDN instead of an IP address, although there are many possible ways to handle access."})]})}function u(e={}){const{wrapper:t}={...(0,n.R)(),...e.components};return t?(0,i.jsx)(t,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},28453:(e,t,a)=>{a.d(t,{R:()=>r,x:()=>s});var i=a(96540);const n={},o=i.createContext(n);function r(e){const t=i.useContext(o);return i.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function s(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:r(e.components),i.createElement(o.Provider,{value:t},e.children)}}}]);