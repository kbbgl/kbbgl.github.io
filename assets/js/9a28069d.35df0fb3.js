"use strict";(globalThis.webpackChunkkgkb=globalThis.webpackChunkkgkb||[]).push([[58922],{69031:(n,e,s)=>{s.r(e),s.d(e,{assets:()=>c,contentTitle:()=>r,default:()=>h,frontMatter:()=>t,metadata:()=>l,toc:()=>a});var i=s(74848),o=s(28453);const t={slug:"os-linux-system-monitoring-i-o",title:"I/O Monitoring",authors:["kbbgl"],tags:["os","linux","system_monitoring","i_o"]},r="I/O Monitoring",l={id:"os/linux/system_monitoring/i_o",title:"I/O Monitoring",description:"1) The main tool used is iostat.",source:"@site/docs/os/linux/system_monitoring/i_o.md",sourceDirName:"os/linux/system_monitoring",slug:"/os/linux/system_monitoring/os-linux-system-monitoring-i-o",permalink:"/docs/os/linux/system_monitoring/os-linux-system-monitoring-i-o",draft:!1,unlisted:!1,tags:[{inline:!0,label:"os",permalink:"/docs/tags/os"},{inline:!0,label:"linux",permalink:"/docs/tags/linux"},{inline:!0,label:"system_monitoring",permalink:"/docs/tags/system-monitoring"},{inline:!0,label:"i_o",permalink:"/docs/tags/i-o"}],version:"current",frontMatter:{slug:"os-linux-system-monitoring-i-o",title:"I/O Monitoring",authors:["kbbgl"],tags:["os","linux","system_monitoring","i_o"]},sidebar:"docsSidebar",previous:{title:"UNIX System Monitoring",permalink:"/docs/os/linux/system_monitoring/unix-sys-monitoring"},next:{title:"I/O Scheduling",permalink:"/docs/os/linux/system_monitoring/os-linux-system-monitoring-i-o-scheduling"}},c={},a=[{value:"Load Testing Tools",id:"load-testing-tools",level:2}];function d(n){const e={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",...(0,o.R)(),...n.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(e.header,{children:(0,i.jsx)(e.h1,{id:"io-monitoring",children:"I/O Monitoring"})}),"\n",(0,i.jsxs)(e.ol,{children:["\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsxs)(e.p,{children:["The main tool used is ",(0,i.jsx)(e.code,{children:"iostat"}),"."]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-bash",children:"# Show in human readable\n# And extended information\niostat --human -x\n\n# Example\n# check for particular devices \n# refresh every 2 seconds\n# run for 200 times \niostat --human /dev/sda /dev/sdb 2 200\n"})}),"\n",(0,i.jsxs)(e.p,{children:["if ",(0,i.jsx)(e.code,{children:"%util"})," is close to 100%, the system is I/O-bound."]}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsx)(e.p,{children:"Also used is:"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-bash",children:"iotop -o\n"})}),"\n",(0,i.jsxs)(e.p,{children:["Which gives a list of processes that utilize the I/O. ",(0,i.jsx)(e.code,{children:"be"})," stands for best effort, ",(0,i.jsx)(e.code,{children:"rt"})," stands for real time in the ",(0,i.jsx)(e.code,{children:"prio"})," column."]}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.code,{children:"ionice"})," we can schedule I/O and priority for processes."]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-bash",children:"# -c arg:\n# 0 default \n# 1 real-time \n# 2 best-effort\n# 3 no access unless no other program askes for it\n\n# -n arg:\n# 0 highest priority\n\n# -p\n# pid\nionice -c [0-4] -n [0-7]\n\n# Example\nionice -c 2 -n 3 -p 30078\n"})}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(e.h2,{id:"load-testing-tools",children:"Load Testing Tools"}),"\n",(0,i.jsxs)(e.p,{children:["We can use ",(0,i.jsx)(e.code,{children:"bonnie++"}),", ",(0,i.jsx)(e.code,{children:"bon_csv2html"})," and ",(0,i.jsx)(e.code,{children:"bon_csv2txt"})," to benchmarking"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-bash",children:"time sudo bonnie++ -n 0 -u 0 -r 100 -f -b -d /mnt\n"})}),"\n",(0,i.jsxs)(e.p,{children:["Another option is ",(0,i.jsx)(e.a,{href:"http://sourceforge.net/projects/fsmark/",children:"fsmark"}),"."]})]})}function h(n={}){const{wrapper:e}={...(0,o.R)(),...n.components};return e?(0,i.jsx)(e,{...n,children:(0,i.jsx)(d,{...n})}):d(n)}},28453:(n,e,s)=>{s.d(e,{R:()=>r,x:()=>l});var i=s(96540);const o={},t=i.createContext(o);function r(n){const e=i.useContext(t);return i.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function l(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(o):n.components||o:r(n.components),i.createElement(t.Provider,{value:e},n.children)}}}]);