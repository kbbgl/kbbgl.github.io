"use strict";(self.webpackChunkkgkb=self.webpackChunkkgkb||[]).push([[44187],{55793:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>l,contentTitle:()=>r,default:()=>h,frontMatter:()=>i,metadata:()=>o,toc:()=>d});var t=n(74848),a=n(28453);const i={slug:"data-models-query-langs",title:"Data Models and Query Languages",description:"Chapter 2 from Designing Data Intensive Applications",authors:["kbbgl"],tags:["design","system_design","data_model","query"]},r=void 0,o={id:"software/system_design/Data_Models_Query_Languages",title:"Data Models and Query Languages",description:"Chapter 2 from Designing Data Intensive Applications",source:"@site/docs/software/system_design/2_Data_Models_Query_Languages.md",sourceDirName:"software/system_design",slug:"/software/system_design/data-models-query-langs",permalink:"/docs/software/system_design/data-models-query-langs",draft:!1,unlisted:!1,tags:[{inline:!0,label:"design",permalink:"/docs/tags/design"},{inline:!0,label:"system_design",permalink:"/docs/tags/system-design"},{inline:!0,label:"data_model",permalink:"/docs/tags/data-model"},{inline:!0,label:"query",permalink:"/docs/tags/query"}],version:"current",sidebarPosition:2,frontMatter:{slug:"data-models-query-langs",title:"Data Models and Query Languages",description:"Chapter 2 from Designing Data Intensive Applications",authors:["kbbgl"],tags:["design","system_design","data_model","query"]},sidebar:"docsSidebar",previous:{title:"Reliable, Scalable, Maintainable",permalink:"/docs/software/system_design/reliable-scalable-maintainable"},next:{title:"Storage and Retrieval",permalink:"/docs/software/system_design/storage-retrieval"}},l={},d=[{value:"Graph Models",id:"graph-models",level:2},{value:"Property Graphs",id:"property-graphs",level:3}];function c(e){const s={code:"code",h2:"h2",h3:"h3",li:"li",p:"p",strong:"strong",ul:"ul",...(0,a.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(s.p,{children:["If the application has ",(0,t.jsx)(s.strong,{children:"many-to-many"})," relationships, better to ",(0,t.jsx)(s.strong,{children:"use a relational database"}),"."]}),"\n",(0,t.jsxs)(s.p,{children:["If the application has mostly ",(0,t.jsx)(s.strong,{children:"one-to-many"})," relationships such as tree-structured data, the NoSQL/document data model is preferable.\nORMs (object-relation model) is a layer that translates the relation model to the application OOP."]}),"\n",(0,t.jsxs)(s.p,{children:["In case there is a need for ",(0,t.jsx)(s.code,{children:"JOIN"}),"ing in a document model, the application will neeed to query multiple documents and merge the documents. This is not optimal since it will affect performance since it moves some of the querying from the database (which is faster for I/O) to the application code."]}),"\n",(0,t.jsx)(s.h2,{id:"graph-models",children:"Graph Models"}),"\n",(0,t.jsx)(s.p,{children:"If the application has many-to-many relationships but the data is too complex for a relational model, it becomes more natural to start modeling your data as a graph."}),"\n",(0,t.jsxs)(s.p,{children:["A graph consists of ",(0,t.jsx)(s.strong,{children:"vertices"})," (aka nodes, entities) and ",(0,t.jsx)(s.strong,{children:"edges"})," (aka relationships, arcs). Graph stores can be seen as a relational database with 2 tables, one for vertices and one with edges."]}),"\n",(0,t.jsx)(s.p,{children:"Typically, graph models are used for examples such as:"}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsx)(s.p,{children:"Social graphs where the vertices are people and edges represent acquaintenanceship."}),"\n"]}),"\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsx)(s.p,{children:"Websites where the vertices are web pages and the edges indicate HTML links to other pages."}),"\n"]}),"\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsx)(s.p,{children:"Roads where vertices are junctions and edges represent roads between them."}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(s.p,{children:"Graph models can also be used where the vertices are completely different types of objects in a single datastore. For example, Facebook's graph has vertices represent people, locations, events, checkins and comments made by users where edges indicate which people are friends with each other, which checkin happened in which location, who commented on which post, etc."}),"\n",(0,t.jsx)(s.h3,{id:"property-graphs",children:"Property Graphs"}),"\n",(0,t.jsx)(s.p,{children:"Property graphs can be used in Neo4j for example."}),"\n",(0,t.jsx)(s.p,{children:"Each vertex consists of:"}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsx)(s.li,{children:"A unique identifier"}),"\n",(0,t.jsx)(s.li,{children:"A set of outgoing edges"}),"\n",(0,t.jsx)(s.li,{children:"A set of incoming edges"}),"\n",(0,t.jsx)(s.li,{children:"A collection of properties"}),"\n"]}),"\n",(0,t.jsx)(s.p,{children:"Each edge consists of:"}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsx)(s.li,{children:"A unique identifier"}),"\n",(0,t.jsx)(s.li,{children:"The vertex at which the edge starts (tail vertex)"}),"\n",(0,t.jsx)(s.li,{children:"The vertex at which the edge ends (the head vertex)"}),"\n",(0,t.jsx)(s.li,{children:"A label to describe the kind of relationship between the two vertices"}),"\n",(0,t.jsx)(s.li,{children:"A collection of properties (key-value pairs)"}),"\n"]}),"\n",(0,t.jsx)(s.p,{children:"Some advantages of using a graph model are:"}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsx)(s.li,{children:"The properties allow you to add some anecdotal information about the edge or vertex"}),"\n",(0,t.jsx)(s.li,{children:"The head and tail vertices allow you to traverse the graph easily."}),"\n",(0,t.jsx)(s.li,{children:"Querying the graph for outgoing or incoming edges is easy."}),"\n"]})]})}function h(e={}){const{wrapper:s}={...(0,a.R)(),...e.components};return s?(0,t.jsx)(s,{...e,children:(0,t.jsx)(c,{...e})}):c(e)}},28453:(e,s,n)=>{n.d(s,{R:()=>r,x:()=>o});var t=n(96540);const a={},i=t.createContext(a);function r(e){const s=t.useContext(i);return t.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function o(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:r(e.components),t.createElement(i.Provider,{value:s},e.children)}}}]);