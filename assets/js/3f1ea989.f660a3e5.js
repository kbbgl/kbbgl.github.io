"use strict";(self.webpackChunkkgkb=self.webpackChunkkgkb||[]).push([[31509],{37619:(e,n,a)=>{a.r(n),a.d(n,{assets:()=>s,contentTitle:()=>r,default:()=>u,frontMatter:()=>c,metadata:()=>i,toc:()=>l});var t=a(74848),o=a(28453);const c={slug:"create-lambda-aws-cli",title:"How to Create Lambda from AWS CLI",authors:["kbbgl"],tags:["cloud","lambda","aws"]},r=void 0,i={id:"cloud_services/aws/Create_Lambda_from_AWS_CLI_with_dependencies",title:"How to Create Lambda from AWS CLI",description:"Create Function Code",source:"@site/docs/cloud_services/aws/Create_Lambda_from_AWS_CLI_with_dependencies.md",sourceDirName:"cloud_services/aws",slug:"/cloud_services/aws/create-lambda-aws-cli",permalink:"/docs/cloud_services/aws/create-lambda-aws-cli",draft:!1,unlisted:!1,tags:[{inline:!0,label:"cloud",permalink:"/docs/tags/cloud"},{inline:!0,label:"lambda",permalink:"/docs/tags/lambda"},{inline:!0,label:"aws",permalink:"/docs/tags/aws"}],version:"current",frontMatter:{slug:"create-lambda-aws-cli",title:"How to Create Lambda from AWS CLI",authors:["kbbgl"],tags:["cloud","lambda","aws"]},sidebar:"tutorialSidebar",previous:{title:"How to Configure AWS CLI",permalink:"/docs/cloud_services/aws/configure-aws-cli"},next:{title:"Copy Files from/to Remote",permalink:"/docs/cloud_services/gcloud/gcloud-cp-files-from-to-remote"}},s={},l=[{value:"Create Function Code",id:"create-function-code",level:3},{value:"Create Dependency Zip",id:"create-dependency-zip",level:3},{value:"Create Lambda function from Source",id:"create-lambda-function-from-source",level:3},{value:"Inboke Lambda Function",id:"inboke-lambda-function",level:3}];function d(e){const n={code:"code",h3:"h3",pre:"pre",...(0,o.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.h3,{id:"create-function-code",children:"Create Function Code"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:"# function.py\nimport requests\ndef main(event, context):   \n    response = requests.get(\"https://docs.aws.amazon.com\")\n    print(response.text)\n    return response.text\nif __name__ == \"__main__\":   \n    main('', '')\n"})}),"\n",(0,t.jsx)(n.h3,{id:"create-dependency-zip",children:"Create Dependency Zip"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"pwd\npython_project \n\ntree .\n\u2514\u2500\u2500 function.py\n\n# Install all Python dependencies into `package` folder\npip3  install --target ./package requests\n\ntree .\n\u2514\u2500\u2500 package\n    \u2514\u2500\u2500 ...\n\u2514\u2500\u2500 function.py\n\n# Create zip of dependency\ncd package\nzip -r ../python_project.zip .\n\n# Add file used for lambda function to root of the zip\ncd ..\nzip -g python_project.zip function.py\n"})}),"\n",(0,t.jsx)(n.h3,{id:"create-lambda-function-from-source",children:"Create Lambda function from Source"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"cd python_project\n\naws lambda create-function --function-name python-project --zip-file fileb://python_project.zip --handler function.main --runtime python3.8 --role arn:aws:iam::$account_id:role/$role_name\n"})}),"\n",(0,t.jsx)(n.h3,{id:"inboke-lambda-function",children:"Inboke Lambda Function"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:'aws lambda invoke --function-name requests-function --payload \'{"key1": "value1", "key2": "value2", "key3": "value3"}\' output.txt\n'})})]})}function u(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}},28453:(e,n,a)=>{a.d(n,{R:()=>r,x:()=>i});var t=a(96540);const o={},c=t.createContext(o);function r(e){const n=t.useContext(c);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:r(e.components),t.createElement(c.Provider,{value:n},e.children)}}}]);