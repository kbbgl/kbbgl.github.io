"use strict";(self.webpackChunkkgkb=self.webpackChunkkgkb||[]).push([[82760],{55062:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>c,contentTitle:()=>a,default:()=>d,frontMatter:()=>t,metadata:()=>i,toc:()=>p});var o=r(74848),s=r(28453);const t={},a="Simulate PhantomJS Process",i={id:"software/languages/javascript/Simulate_phantomJS_process",title:"Simulate PhantomJS Process",description:"",source:"@site/docs/software/languages/javascript/Simulate_phantomJS_process.md",sourceDirName:"software/languages/javascript",slug:"/software/languages/javascript/Simulate_phantomJS_process",permalink:"/docs/software/languages/javascript/Simulate_phantomJS_process",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{},sidebar:"docsSidebar",previous:{title:"Increase Memory Limit",permalink:"/docs/software/languages/javascript/NodeJS/Increase_nodejs_memory"},next:{title:"Gulp JS",permalink:"/docs/software/languages/javascript/gulpjs"}},c={},p=[];function l(e){const n={code:"code",h1:"h1",header:"header",pre:"pre",...(0,s.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.header,{children:(0,o.jsx)(n.h1,{id:"simulate-phantomjs-process",children:"Simulate PhantomJS Process"})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-javascript",children:'v\nvar path = require(\'path\')\nconst veryOriginalUrl = "http://127.0.0.1:14991/app/reporting?lang=fr-FR#/dashboards/preview/5cc17e8effb09a093ca6e1d4?paperFormat=A3&paperOrientation=landscape&elasticubeBuilt=2020-05-10T19:04:03.493Z&showNarration=undefined";\nvar phantom = path.join("C:\\\\Program Files\\\\app\\\\app\\\\galaxy-service\\\\src\\\\features\\\\dashboards\\\\export\\\\bin\\\\", \'phantomjs.exe\')\nvar child_process = require(\'child_process\');\n\n\ntry {\n    var\n        err,\n        warn,\n        messageStr = \'\',\n        options = [\n            \'--web-security=no\',\n            \'--ssl-protocol=any\',\n            \'--ignore-ssl-errors=yes\',\n            "C:\\\\Program Files\\\\app\\\\app\\\\galaxy-service\\\\src\\\\features\\\\dashboards\\\\export\\\\rasterizeDebug.js",\n            veryOriginalUrl,\n            path.join("./exports/55a695b0e0076954d6000070.pdf"),\n            "A3",\n            "landscape",\n            "95",\n            "asis",\n            "undefined",\n            "undefined",\n            300,\n            "Token",\n            null,\n            undefined,\n            undefined,\n            "--debug=true"\n        ];\n\n    console.info(`Exporting URL "${veryOriginalUrl}"`);\n    var phantomProcess = child_process.spawn(phantom, options);\n    console.info(`Spawning phantom process with PID: ${phantomProcess.pid}`)\n\n    phantomProcess.stdout.on(\'data\', function(data) {\n        console.log(`stdout: ${data}` )\n    });\n\n    phantomProcess.stderr.on(\'data\', function(buffer) {\n        console.log(`stderr: ${buffer.toString()}` )\n        messageStr += buffer.toString();\n    });\n    phantomProcess.stderr.on(\'end\', function(buffer) {\n        if (buffer) {\n            messageStr += buffer.toString();\n        }\n\n            console.log(`error stream ended: ${messageStr}`)\n    });\n\n    phantomProcess.on(\'error\', function(error) {\n        if (!err) {\n            console.error(error);\n        }\n        console.error(`Exporting URL "${veryOriginalUrl}" phantomjs child process error: ${error}`);\n    });\n\n    phantomProcess.on(\'exit\', function(code) {\n        if (code == 0 && !err && !warn) {\n            console.log(`program exited with exit code 0`)\n        }else{\n            console.log(`Exit signal received: ${err || warn}`);\n        }\n    });\n\n}\ncatch(e) {\n    console.error(`Exporting URL "${veryOriginalUrl}" error: ${e}`);\n}\n'})})]})}function d(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(l,{...e})}):l(e)}},28453:(e,n,r)=>{r.d(n,{R:()=>a,x:()=>i});var o=r(96540);const s={},t=o.createContext(s);function a(e){const n=o.useContext(t);return o.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:a(e.components),o.createElement(t.Provider,{value:n},e.children)}}}]);