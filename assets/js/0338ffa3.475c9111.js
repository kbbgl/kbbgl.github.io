"use strict";(globalThis.webpackChunkkgkb=globalThis.webpackChunkkgkb||[]).push([[68753],{32526:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>i,contentTitle:()=>l,default:()=>u,frontMatter:()=>a,metadata:()=>r,toc:()=>c});var s=t(74848),o=t(28453);const a={slug:"how-to-deploy-k8s-svcs-using-aws-lbc-gw-api",title:"How to Deploy Kubernetes Services using Gateway API/AWS Load Balancer Controller",description:"How to Deploy Kubernetes Services using Gateway API/AWS Load Balancer Controller",authors:["kgal-akl"],tags:["k8s","kubernetes","gateway","api","aws","load_balancer"],date:new Date("2026-02-17T00:00:00.000Z")},l=void 0,r={permalink:"/blog/how-to-deploy-k8s-svcs-using-aws-lbc-gw-api",source:"@site/blog/how-to-deploy-k8s-svcs-using-aws-lbc-gw-api.md",title:"How to Deploy Kubernetes Services using Gateway API/AWS Load Balancer Controller",description:"How to Deploy Kubernetes Services using Gateway API/AWS Load Balancer Controller",date:"2026-02-17T00:00:00.000Z",tags:[{inline:!1,label:"K8s",permalink:"/blog/tags/k-8-s"},{inline:!1,label:"Kubernetes",permalink:"/blog/tags/kubernetes"},{inline:!1,label:"Gateway",permalink:"/blog/tags/gateway"},{inline:!1,label:"Api",permalink:"/blog/tags/api"},{inline:!1,label:"Aws",permalink:"/blog/tags/aws"},{inline:!1,label:"Load_balancer",permalink:"/blog/tags/load-balancer"}],readingTime:8.67,hasTruncateMarker:!0,authors:[{name:"Kobbi Gal (Akeyless)",title:"Escalations Engineer at Akeyless",url:"https://github.com/kgal-akl",imageURL:"https://avatars.githubusercontent.com/u/195813801",key:"kgal-akl",page:null}],frontMatter:{slug:"how-to-deploy-k8s-svcs-using-aws-lbc-gw-api",title:"How to Deploy Kubernetes Services using Gateway API/AWS Load Balancer Controller",description:"How to Deploy Kubernetes Services using Gateway API/AWS Load Balancer Controller",authors:["kgal-akl"],tags:["k8s","kubernetes","gateway","api","aws","load_balancer"],date:"2026-02-17T00:00:00.000Z"},unlisted:!1,prevItem:{title:"Debugging NodeJS Microservice with Shared Storage on\xa0Kubernetes",permalink:"/blog/debugging-nodejs-microservice-with-shared-storage-on-kubernetes"},nextItem:{title:"How To Set Up Split Tunneling with VPN",permalink:"/blog/how-to-set-up-split-tunneling"}},i={authorsImageUrls:[void 0]},c=[];function g(e){const n={code:"code",li:"li",p:"p",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(n.p,{children:["This tutorial contains a working example of exposing ",(0,s.jsx)(n.strong,{children:"TCP services"})," (LDAP/LDAPS + SSH) from a ",(0,s.jsx)(n.strong,{children:"single-node k3s"})," cluster running on an EC2 instance, using:"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.strong,{children:"Kubernetes Gateway API"})}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"AWS Load Balancer Controller (LBC)"})," for:","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"NLB"})," (L4) via ",(0,s.jsx)(n.code,{children:"TCPRoute"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"ALB"})," (L7) via ",(0,s.jsx)(n.code,{children:"HTTPRoute"}),"/",(0,s.jsx)(n.code,{children:"GRPCRoute"})," (example file included)"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["The key implementation detail for k3s-on-EC2 with the default overlay networking (flannel): ",(0,s.jsxs)(n.strong,{children:["use ",(0,s.jsx)(n.code,{children:"instance"})," targets + NodePorts"]})," for L4 routes. ClusterIP + pod IP targets won\u2019t work unless pods are VPC-routable (AWS VPC CNI)."]})]})}function u(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(g,{...e})}):g(e)}},28453:(e,n,t)=>{t.d(n,{R:()=>l,x:()=>r});var s=t(96540);const o={},a=s.createContext(o);function l(e){const n=s.useContext(a);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:l(e.components),s.createElement(a.Provider,{value:n},e.children)}}}]);