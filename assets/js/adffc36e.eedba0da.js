"use strict";(self.webpackChunkkgkb=self.webpackChunkkgkb||[]).push([[17825],{19624:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>a,contentTitle:()=>r,default:()=>d,frontMatter:()=>o,metadata:()=>c,toc:()=>l});var i=t(74848),s=t(28453);const o={},r=void 0,c={id:"software/containerization/k8s/Security/Authentication",title:"Authentication",description:"Authentication",source:"@site/docs/software/containerization/k8s/Security/2._Authentication.md",sourceDirName:"software/containerization/k8s/Security",slug:"/software/containerization/k8s/Security/Authentication",permalink:"/docs/software/containerization/k8s/Security/Authentication",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:2,frontMatter:{},sidebar:"docsSidebar",previous:{title:"Accessing_the_API",permalink:"/docs/software/containerization/k8s/Security/Accessing_the_API"},next:{title:"Authorization",permalink:"/docs/software/containerization/k8s/Security/Authorization"}},a={},l=[{value:"Authentication",id:"authentication",level:2}];function u(e){const n={a:"a",code:"code",h2:"h2",li:"li",p:"p",ul:"ul",...(0,s.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.h2,{id:"authentication",children:"Authentication"}),"\n",(0,i.jsx)(n.p,{children:"There are three main points to remember with authentication in Kubernetes:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"In its straightforward form, authentication is done with certificates, tokens or basic authentication (i.e. username and password)."}),"\n",(0,i.jsx)(n.li,{children:"Users are not created by the API, but should be managed by an external system."}),"\n",(0,i.jsxs)(n.li,{children:["System accounts are used by processes to access the API (to learn more read ",(0,i.jsx)(n.a,{href:"https://kubernetes.io/docs/tasks/configure-pod-container/configure-service-account/",children:"Configure Service Accounts for Pods"}),"."]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"There are two more advanced authentication mechanisms:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Webhooks can be used to verify bearer tokens"}),"\n",(0,i.jsx)(n.li,{children:"Connection with an external OpenID provider."}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["The type of authentication used is defined in the ",(0,i.jsx)(n.code,{children:"kube-apiserver"})," startup options. Below are four examples of a subset of configuration options that would need to be set depending on what choice of authentication mechanism you choose:"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.code,{children:"--basic-auth-file"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.code,{children:"--oidc-issuer-url"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.code,{children:"--token-auth-file"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.code,{children:"--authorization-webhook-config-file"})}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"One or more Authenticator Modules are used:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"x509 Client Certs;"}),"\n",(0,i.jsx)(n.li,{children:"static token, bearer or bootstrap token;"}),"\n",(0,i.jsx)(n.li,{children:"static password file;"}),"\n",(0,i.jsx)(n.li,{children:"service account;"}),"\n",(0,i.jsx)(n.li,{children:"OpenID connect tokens."}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Each is tried until successful, and the order is not guaranteed. Anonymous access can also be enabled, otherwise you will get a 401 response."}),"\n",(0,i.jsxs)(n.p,{children:["To learn more about authentication, see the ",(0,i.jsx)(n.a,{href:"https://kubernetes.io/docs/reference/access-authn-authz/authentication/",children:"official Kubernetes Documentation"}),"."]})]})}function d(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(u,{...e})}):u(e)}},28453:(e,n,t)=>{t.d(n,{R:()=>r,x:()=>c});var i=t(96540);const s={},o=i.createContext(s);function r(e){const n=i.useContext(o);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:r(e.components),i.createElement(o.Provider,{value:n},e.children)}}}]);