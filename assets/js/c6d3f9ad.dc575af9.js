"use strict";(self.webpackChunkkgkb=self.webpackChunkkgkb||[]).push([[66819],{47247:(e,s,l)=>{l.r(s),l.d(s,{assets:()=>r,contentTitle:()=>d,default:()=>h,frontMatter:()=>a,metadata:()=>t,toc:()=>c});var n=l(74848),i=l(28453);const a={title:"Splunk Cheat Sheet",slug:"splunk-cheat-sheet",author:"kgal-akl",tags:["devops","observability","tools","logs","audit","cheatsheet"]},d="Splunk Search Processing Language (SPL) Cheat Sheet",t={id:"software/observability/splunk/README",title:"Splunk Cheat Sheet",description:"\ud83d\udd0d Basic Search",source:"@site/docs/software/observability/splunk/README.md",sourceDirName:"software/observability/splunk",slug:"/software/observability/splunk/splunk-cheat-sheet",permalink:"/docs/software/observability/splunk/splunk-cheat-sheet",draft:!1,unlisted:!1,tags:[{inline:!0,label:"devops",permalink:"/docs/tags/devops"},{inline:!0,label:"observability",permalink:"/docs/tags/observability"},{inline:!0,label:"tools",permalink:"/docs/tags/tools"},{inline:!0,label:"logs",permalink:"/docs/tags/logs"},{inline:!0,label:"audit",permalink:"/docs/tags/audit"},{inline:!0,label:"cheatsheet",permalink:"/docs/tags/cheatsheet"}],version:"current",frontMatter:{title:"Splunk Cheat Sheet",slug:"splunk-cheat-sheet",author:"kgal-akl",tags:["devops","observability","tools","logs","audit","cheatsheet"]},sidebar:"docsSidebar",previous:{title:"Match UUID4",permalink:"/docs/software/languages/regex/match-uuid"},next:{title:"Jira Keyboard Shortcuts",permalink:"/docs/software/project_management/jira/keyboard-shortcuts"}},r={},c=[{value:"\ud83d\udd0d Basic Search",id:"-basic-search",level:2},{value:"Searches for keyword",id:"searches-for-keyword",level:3},{value:"Filters events where field matches value",id:"filters-events-where-field-matches-value",level:3},{value:"Searches the last 7 days",id:"searches-the-last-7-days",level:3},{value:"Returns the first 10 results.",id:"returns-the-first-10-results",level:3},{value:"\ud83d\udccc Field Selection &amp; Formatting",id:"-field-selection--formatting",level:2},{value:"Displays only selected fields in a table",id:"displays-only-selected-fields-in-a-table",level:3},{value:"Keeps only field1 and field2 in results",id:"keeps-only-field1-and-field2-in-results",level:3},{value:"Removes field1 from results",id:"removes-field1-from-results",level:3},{value:"\ud83d\udcca Sorting",id:"-sorting",level:2},{value:"Sorts results in ascending order of <code>_time</code>",id:"sorts-results-in-ascending-order-of-_time",level:3},{value:"Sorts in descending order of count",id:"sorts-in-descending-order-of-count",level:3},{value:"\ud83d\udcc8 Stats &amp; Aggregation",id:"-stats--aggregation",level:2},{value:"Counts occurrences of each field value",id:"counts-occurrences-of-each-field-value",level:3},{value:"Calculates the average of field",id:"calculates-the-average-of-field",level:3},{value:"Finds the first and last occurrence timestamps",id:"finds-the-first-and-last-occurrence-timestamps",level:3},{value:"Computes the sum of field",id:"computes-the-sum-of-field",level:3},{value:"\ud83d\udd04 Transforming Data",id:"-transforming-data",level:2},{value:"Renames a field",id:"renames-a-field",level:3},{value:"Creates a new field by adding <code>field1</code> and <code>field2</code>",id:"creates-a-new-field-by-adding-field1-and-field2",level:3},{value:"Creates a conditional field",id:"creates-a-conditional-field",level:3},{value:"\u23f3 Time Functions",id:"-time-functions",level:2},{value:"Converts epoch <code>_time</code> to human-readable format",id:"converts-epoch-_time-to-human-readable-format",level:3},{value:"Formats _time",id:"formats-_time",level:3},{value:"Searches the last 30 days, rounding to the start of the day",id:"searches-the-last-30-days-rounding-to-the-start-of-the-day",level:3},{value:"\ud83d\udd04 Filtering &amp; Matching",id:"-filtering--matching",level:2},{value:"Matches field with multiple values",id:"matches-field-with-multiple-values",level:3},{value:"Excludes value from field",id:"excludes-value-from-field",level:3},{value:"Filters field for regex match",id:"filters-field-for-regex-match",level:3}];function o(e){const s={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",pre:"pre",...(0,i.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(s.header,{children:(0,n.jsx)(s.h1,{id:"splunk-search-processing-language-spl-cheat-sheet",children:"Splunk Search Processing Language (SPL) Cheat Sheet"})}),"\n",(0,n.jsx)(s.h2,{id:"-basic-search",children:"\ud83d\udd0d Basic Search"}),"\n",(0,n.jsx)(s.h3,{id:"searches-for-keyword",children:"Searches for keyword"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-splunk-spl",children:"index=my_index keyword\n"})}),"\n",(0,n.jsx)(s.h3,{id:"filters-events-where-field-matches-value",children:"Filters events where field matches value"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-splunk-spl",children:"index=my_index field=value\n"})}),"\n",(0,n.jsx)(s.h3,{id:"searches-the-last-7-days",children:"Searches the last 7 days"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-splunk-spl",children:"index=my_index earliest=-7d latest=now\n"})}),"\n",(0,n.jsx)(s.h3,{id:"returns-the-first-10-results",children:"Returns the first 10 results."}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-splunk-spl",children:"index=my_index | head 10\n"})}),"\n",(0,n.jsx)(s.h2,{id:"-field-selection--formatting",children:"\ud83d\udccc Field Selection & Formatting"}),"\n",(0,n.jsx)(s.h3,{id:"displays-only-selected-fields-in-a-table",children:"Displays only selected fields in a table"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-splunk-spl",children:"index=my_index | table field1, field2, field3\n"})}),"\n",(0,n.jsx)(s.h3,{id:"keeps-only-field1-and-field2-in-results",children:"Keeps only field1 and field2 in results"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-splunk-spl",children:"index=my_index | fields field1, field2\n"})}),"\n",(0,n.jsx)(s.h3,{id:"removes-field1-from-results",children:"Removes field1 from results"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-splunk-spl",children:"index=my_index | fields - field1\n"})}),"\n",(0,n.jsx)(s.h2,{id:"-sorting",children:"\ud83d\udcca Sorting"}),"\n",(0,n.jsxs)(s.h3,{id:"sorts-results-in-ascending-order-of-_time",children:["Sorts results in ascending order of ",(0,n.jsx)(s.code,{children:"_time"})]}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-splunk-spl",children:"index=my_index | sort _time\n"})}),"\n",(0,n.jsx)(s.h3,{id:"sorts-in-descending-order-of-count",children:"Sorts in descending order of count"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-splunk-spl",children:"index=my_index | sort - count\n"})}),"\n",(0,n.jsx)(s.h2,{id:"-stats--aggregation",children:"\ud83d\udcc8 Stats & Aggregation"}),"\n",(0,n.jsx)(s.h3,{id:"counts-occurrences-of-each-field-value",children:"Counts occurrences of each field value"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-splunk-spl",children:"index=my_index | stats count by field\n"})}),"\n",(0,n.jsx)(s.h3,{id:"calculates-the-average-of-field",children:"Calculates the average of field"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-splunk-spl",children:"index=my_index | stats avg(field) as average\n"})}),"\n",(0,n.jsx)(s.h3,{id:"finds-the-first-and-last-occurrence-timestamps",children:"Finds the first and last occurrence timestamps"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-splunk-spl",children:"index=my_index | stats min(_time) as first_seen, max(_time) as last_seen\n"})}),"\n",(0,n.jsx)(s.h3,{id:"computes-the-sum-of-field",children:"Computes the sum of field"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-splunk-spl",children:"index=my_index | stats sum(field) as total\n"})}),"\n",(0,n.jsx)(s.h2,{id:"-transforming-data",children:"\ud83d\udd04 Transforming Data"}),"\n",(0,n.jsx)(s.h3,{id:"renames-a-field",children:"Renames a field"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-splunk-spl",children:"index=my_index | rename field AS new_field\n"})}),"\n",(0,n.jsxs)(s.h3,{id:"creates-a-new-field-by-adding-field1-and-field2",children:["Creates a new field by adding ",(0,n.jsx)(s.code,{children:"field1"})," and ",(0,n.jsx)(s.code,{children:"field2"})]}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-splunk-spl",children:"index=my_index | eval new_field=field1 + field2\n"})}),"\n",(0,n.jsx)(s.h3,{id:"creates-a-conditional-field",children:"Creates a conditional field"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-splunk-spl",children:'index=my_index | eval status=if(response_code=200, "Success", "Fail")\n'})}),"\n",(0,n.jsx)(s.h2,{id:"-time-functions",children:"\u23f3 Time Functions"}),"\n",(0,n.jsxs)(s.h3,{id:"converts-epoch-_time-to-human-readable-format",children:["Converts epoch ",(0,n.jsx)(s.code,{children:"_time"})," to human-readable format"]}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-splunk-spl",children:"index=my_index | convert ctime(_time)\n"})}),"\n",(0,n.jsx)(s.h3,{id:"formats-_time",children:"Formats _time"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-splunk-spl",children:'index=my_index | eval new_time=strftime(_time, "%Y-%m-%d %H:%M:%S")\n'})}),"\n",(0,n.jsx)(s.h3,{id:"searches-the-last-30-days-rounding-to-the-start-of-the-day",children:"Searches the last 30 days, rounding to the start of the day"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-splunk-spl",children:"index=my_index earliest=-30d@d latest=now\n"})}),"\n",(0,n.jsx)(s.h2,{id:"-filtering--matching",children:"\ud83d\udd04 Filtering & Matching"}),"\n",(0,n.jsx)(s.h3,{id:"matches-field-with-multiple-values",children:"Matches field with multiple values"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-splunk-spl",children:'index=my_index field IN ("value1", "value2")\n'})}),"\n",(0,n.jsx)(s.h3,{id:"excludes-value-from-field",children:"Excludes value from field"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-splunk-spl",children:"index=my_index field!=value\n"})}),"\n",(0,n.jsx)(s.h3,{id:"filters-field-for-regex-match",children:"Filters field for regex match"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-splunk-spl",children:'index=my_index | regex field="error|fail"\n'})})]})}function h(e={}){const{wrapper:s}={...(0,i.R)(),...e.components};return s?(0,n.jsx)(s,{...e,children:(0,n.jsx)(o,{...e})}):o(e)}},28453:(e,s,l)=>{l.d(s,{R:()=>d,x:()=>t});var n=l(96540);const i={},a=n.createContext(i);function d(e){const s=n.useContext(a);return n.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function t(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:d(e.components),n.createElement(a.Provider,{value:s},e.children)}}}]);