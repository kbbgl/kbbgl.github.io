"use strict";(self.webpackChunkkgkb=self.webpackChunkkgkb||[]).push([[29971],{9339:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>o,contentTitle:()=>a,default:()=>h,frontMatter:()=>r,metadata:()=>d,toc:()=>l});var i=s(74848),t=s(28453);const r={},a="Disk Partitioning",d={id:"os/UNIX/Disk/partitioning",title:"Disk Partitioning",description:"Popular hard disk types:",source:"@site/docs/os/UNIX/Disk/partitioning.md",sourceDirName:"os/UNIX/Disk",slug:"/os/UNIX/Disk/partitioning",permalink:"/docs/os/UNIX/Disk/partitioning",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{},sidebar:"docsSidebar",previous:{title:"LVM (Logical Volume Management)",permalink:"/docs/os/UNIX/Disk/lvm"},next:{title:"Run Command on Multiple Files",permalink:"/docs/os/UNIX/Filesystem/Run_command_on_multiple_files"}},o={},l=[{value:"Disk Geometry",id:"disk-geometry",level:2},{value:"Partition Organization",id:"partition-organization",level:3},{value:"Reasons for Partition",id:"reasons-for-partition",level:4},{value:"Disk Devices and Nodes",id:"disk-devices-and-nodes",level:3},{value:"Create a partition",id:"create-a-partition",level:3}];function c(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",img:"img",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"disk-partitioning",children:"Disk Partitioning"})}),"\n",(0,i.jsx)(n.p,{children:"Popular hard disk types:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["Small Computer Systems Interface (",(0,i.jsx)(n.strong,{children:"SCSI"}),"): Older type, very flexible and still used. Has different capacities, speeds."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["Serial Attached SCSI (",(0,i.jsx)(n.strong,{children:"SAS"}),"): Newer and have better performance than SCSI."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["Integrated Drive Electronics (",(0,i.jsx)(n.strong,{children:"IDE"}),"): Obsolete."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["Serial Advanced Technology Attachment (",(0,i.jsx)(n.strong,{children:"SATA"}),"): Replaced IDEs, seen as SCSI devices. Have built-in hotswap and fast data transfer rates."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["Universal Serial Bus (",(0,i.jsx)(n.strong,{children:"USB"}),"): Used by flash drives, seen as SCSI devices."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["Solid State Drives (",(0,i.jsx)(n.strong,{children:"SSD"}),"): Use less power than rotational disks, very fast data transfer."]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"disk-geometry",children:"Disk Geometry"}),"\n",(0,i.jsx)(n.p,{children:"A hard drives is composed of a number of 'platters'. The platters store data. The geometry of the drive defines how the data is organized on these platters."}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{src:"https://upload.wikimedia.org/wikipedia/commons/thumb/0/02/Cylinder_Head_Sector.svg/720px-Cylinder_Head_Sector.svg.png",alt:"cylinder"})}),"\n",(0,i.jsx)(n.p,{children:"Heads: are the needles that read/write data while the platter spins."}),"\n",(0,i.jsx)(n.p,{children:"Cylinders: Heads are attached to the cylinders which are separators between each platter. It's a group which consists of the same track on all platters."}),"\n",(0,i.jsx)(n.p,{children:"Tracks: Circular regions where the head needle reads/writes data onto."}),"\n",(0,i.jsx)(n.p,{children:"Sectors: Are data blocks (of 512/4096 bytes) which are slices of a the tracks."}),"\n",(0,i.jsx)(n.p,{children:"We can see the sectors by:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"sudo fdisk -l /dev/sda\n"})}),"\n",(0,i.jsx)(n.p,{children:"We can see the partitions and the type by:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'blkid /dev/sda*\n/dev/sda: PTUUID="cac1e54c-3ea8-4e5e-8486-cdb1c02055f3" PTTYPE="gpt"\n/dev/sda1: UUID="2A46-DB7A" TYPE="vfat" PARTUUID="c197e0f8-56d2-4726-a424-0de20f1dc9ae"\n/dev/sda2: UUID="7a140733-3f99-4878-a4e5-e738b2614353" TYPE="ext4" PARTUUID="6955ca22-d490-437d-9840-e571d743a624"\n/dev/sda3: UUID="fciQ3l-PQWL-c78G-1wZz-x1aw-Sdp6-3fo7l1" TYPE="LVM2_member" PARTUUID="383fe0d3-f69c-43b4-9576-e5e516b5f773"\n'})}),"\n",(0,i.jsx)(n.p,{children:"To see the block device information in tree format:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"lsblk\n"})}),"\n",(0,i.jsx)(n.h3,{id:"partition-organization",children:"Partition Organization"}),"\n",(0,i.jsx)(n.p,{children:"Disks are divided into partitions. A partition is a physically contiguous groups of sectors on the disk."}),"\n",(0,i.jsx)(n.p,{children:"There are two main partitions layouts:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["Master Boot Record (",(0,i.jsx)(n.strong,{children:"MBR"}),"): Older scheme, limited to 2TB, 4 primary partitions, 1 can be extensible partition and may be subdivided into 16 other logical partitions."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["GUID Partition Table(",(0,i.jsx)(n.strong,{children:"GPT"}),"): Modern, based on UEFI, up to 128 primary partitions and no need for extended partitions."]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.h4,{id:"reasons-for-partition",children:"Reasons for Partition"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Separatation of user/app data from OS files."}),"\n",(0,i.jsx)(n.li,{children:"Sharing between machines/OSs."}),"\n",(0,i.jsx)(n.li,{children:"Security, permissions."}),"\n",(0,i.jsx)(n.li,{children:"Keeping volatile storage isolated from stable."}),"\n",(0,i.jsx)(n.li,{children:"Keeping most important/used files on faster storage."}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Most systems use at least two partitions:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"/"})}),"\n",(0,i.jsx)(n.li,{children:"Swap, which is used as an extension of physical memory."}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"disk-devices-and-nodes",children:"Disk Devices and Nodes"}),"\n",(0,i.jsxs)(n.p,{children:["The Linux kernel interacts with the hardware through the ",(0,i.jsx)(n.code,{children:"/dev"})," directory. The devices are should be interacted with only through the VFS."]}),"\n",(0,i.jsx)(n.h3,{id:"create-a-partition",children:"Create a partition"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"sudo fdisk /dev/sda\n# [-> inside fdisk prompt]\n-> n\n+1000M\n\n# for LVM partition\n-> t\n-> 8e\n\n# list new partition\n-> p\n\n# refresh partition table. Doesn't always work, recommended to reboot.\nsudo partprobe -s\n"})}),"\n",(0,i.jsx)(n.p,{children:"We can use this command to format a partition:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"sudo mkfs.ext4 /dev/sda9\n"})}),"\n",(0,i.jsx)(n.p,{children:"SATA/SCSI hard disks have the following format:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# xx is the device type (usually sd)\n# y is the letter for the drive number\n# z is the partition number\nxxy[z]\n\nsda - first disk.\nsdb - second disk.\nsda1 - first disk, first partition\n...\n"})})]})}function h(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(c,{...e})}):c(e)}},28453:(e,n,s)=>{s.d(n,{R:()=>a,x:()=>d});var i=s(96540);const t={},r=i.createContext(t);function a(e){const n=i.useContext(r);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:a(e.components),i.createElement(r.Provider,{value:n},e.children)}}}]);