"use strict";(self.webpackChunkkgkb=self.webpackChunkkgkb||[]).push([[5321],{57557:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>o,contentTitle:()=>t,default:()=>h,frontMatter:()=>c,metadata:()=>d,toc:()=>l});var i=s(74848),r=s(28453);const c={},t="Devices",d={id:"os/UNIX/Network/devices",title:"Devices",description:"- ethX: Ethernet devices.",source:"@site/docs/os/UNIX/Network/devices.md",sourceDirName:"os/UNIX/Network",slug:"/os/UNIX/Network/devices",permalink:"/docs/os/UNIX/Network/devices",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Add Machine to Hosts File",permalink:"/docs/os/UNIX/Network/add_machine_to_hosts_file"},next:{title:"Read Data from Sockets",permalink:"/docs/os/UNIX/Network/read_from_socket"}},o={},l=[{value:"Configuring and Controlling Devices",id:"configuring-and-controlling-devices",level:2},{value:"Network Manager",id:"network-manager",level:2}];function a(e){const n={code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"devices",children:"Devices"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"ethX"}),": Ethernet devices."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"wlanX"}),": Wireless devices."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"brX"}),": Bridge interfaces"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"vmnetZ"}),": virtual devices"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"configuring-and-controlling-devices",children:"Configuring and Controlling Devices"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"ip"})," utility is used to configure, control and query interface parameters and routing. It replaced the ",(0,i.jsx)(n.code,{children:"ifconfig"})," as it's faster and more versatile. ",(0,i.jsxs)(n.strong,{children:["Settings changed using ",(0,i.jsx)(n.code,{children:"ip"})," are not persistent."]})]}),"\n",(0,i.jsx)(n.p,{children:"Format:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"ip [options] object {command | help}\n\n# for reading commands from file\nip [-force] -batch /path/to/file\n"})}),"\n",(0,i.jsxs)(n.p,{children:["Popular ",(0,i.jsx)(n.code,{children:"object"}),":"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"address"}),": ipv4/6 protocol device address."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"link"}),": network devices"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"maddress"}),": multicast address"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"monitor"}),": watch for ",(0,i.jsx)(n.code,{children:"netlink"})," messages"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"route"}),": routing table entry"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"rule"}),": rule in routing policy db"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"tunnel"}),": tunnel over ip"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Examples:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# show info for all interfaces\nip link show\n\n# show stats (rx/tx) about eth0 \nip -s link show eth0 \n# OR\ncat /proc/net/dev\n\n# set ip address\nsudo ip addr add 192.168.1.7 dev eth0\n\n# take down interface\nsudo ip link set eth0 down\n\n# set mtu to 1480 bytes\nsudo ip link set eth0 mtu 1480\n\n# set networking route\nsudo ip route add 172.16.1.0/24 via 192.168.1.5\n"})}),"\n",(0,i.jsx)(n.p,{children:"The device configuration, information and statistics are held in the following filesystem locations:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"less /proc/net/dev\n\nhead -n 4 /proc/net/dev\nInter-|   Receive                                                |  Transmit\n face |bytes    packets errs drop fifo frame compressed multicast|bytes    packets errs drop fifo colls carrier compressed\ncaliff0535d9c94: 98940135  518876    0    0    0     0          0         0 60376340  463276    0    0    0     0       0          0\ncalie8c5a45cbcd: 2673411   33886    0    0    0     0          0         0  2801482   20678    0    0    0     0       0          0\n"})}),"\n",(0,i.jsx)(n.p,{children:"Device configuration and statistics can be found in:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"cat /sys/class/net/docker0/statistics/rx_missed_errors\n0\n"})}),"\n",(0,i.jsxs)(n.p,{children:["Each distro has it's own set of files that include persistent network device configuration (",(0,i.jsx)(n.strong,{children:"NIC"}),")."]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["RedHat:","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"/etc/sysconfig/network"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"/etc/sysconfig/network-scripts/ifcfg-ethX"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"/etc/sysconfig/network-scripts/ifcfg-ethX:Y"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"/etc/sysconfig/network-scripts/route-ethX"})}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["Debian:","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"/etc/network/interfaces"})}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["SUSE:","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"/etc/sysconfig/network"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"network-manager",children:"Network Manager"}),"\n",(0,i.jsx)(n.p,{children:"The preferred/modern method to interact with network devices is using the Network Manager."}),"\n",(0,i.jsxs)(n.p,{children:["We can change the network configuration using ",(0,i.jsx)(n.code,{children:"nmcli"}),"."]}),"\n",(0,i.jsx)(n.p,{children:"Installation and enablement:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"sudo apt install network-manager\nsudo /etc/init.d/network-manager start\n"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# contains many useful examples\nman nmcli-examples \n\n# see list of wifi APs\nnmcli device wifi list\n"})})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(a,{...e})}):a(e)}},28453:(e,n,s)=>{s.d(n,{R:()=>t,x:()=>d});var i=s(96540);const r={},c=i.createContext(r);function t(e){const n=i.useContext(c);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:t(e.components),i.createElement(c.Provider,{value:n},e.children)}}}]);