"use strict";(globalThis.webpackChunkkgkb=globalThis.webpackChunkkgkb||[]).push([[12911],{22113:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>a,contentTitle:()=>c,default:()=>h,frontMatter:()=>o,metadata:()=>r,toc:()=>l});var s=t(74848),i=t(28453);const o={slug:"os-linux-automating-tasks-with-job-scheduling",title:"Cron Job Scheduling",authors:["kbbgl"],tags:["os","linux","automating_tasks_with_job_scheduling"]},c="Cron Job Scheduling",r={id:"os/linux/automating_tasks_with_job_scheduling",title:"Cron Job Scheduling",description:"crond is a daemon that runs in the bg. it checks the crontab (table) for jobs that need to be scheduled according to jobs configured in /etc/crontab.",source:"@site/docs/os/linux/automating_tasks_with_job_scheduling.md",sourceDirName:"os/linux",slug:"/os/linux/os-linux-automating-tasks-with-job-scheduling",permalink:"/docs/os/linux/os-linux-automating-tasks-with-job-scheduling",draft:!1,unlisted:!1,tags:[{inline:!0,label:"os",permalink:"/docs/tags/os"},{inline:!0,label:"linux",permalink:"/docs/tags/linux"},{inline:!0,label:"automating_tasks_with_job_scheduling",permalink:"/docs/tags/automating-tasks-with-job-scheduling"}],version:"current",frontMatter:{slug:"os-linux-automating-tasks-with-job-scheduling",title:"Cron Job Scheduling",authors:["kbbgl"],tags:["os","linux","automating_tasks_with_job_scheduling"]},sidebar:"docsSidebar",previous:{title:"Add Script to Path",permalink:"/docs/os/linux/os-linux-add-script-to-path"},next:{title:"AWK Cheat Sheet",permalink:"/docs/os/linux/os-linux-awk-cheat-sheet"}},a={},l=[{value:"Startup Scripts",id:"startup-scripts",level:2},{value:"Runlevels",id:"runlevels",level:2}];function d(e){const n={code:"code",h1:"h1",h2:"h2",header:"header",img:"img",p:"p",pre:"pre",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"cron-job-scheduling",children:"Cron Job Scheduling"})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"crond"})," is a daemon that runs in the bg. it checks the ",(0,s.jsx)(n.code,{children:"crontab"})," (table) for jobs that need to be scheduled according to jobs configured in ",(0,s.jsx)(n.code,{children:"/etc/crontab"}),"."]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{src:"https://ahmadawais.com/wp-content/uploads/2017/06/crontab.png",alt:"crontab"})}),"\n",(0,s.jsx)(n.p,{children:"To edit the table:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"crontab -e\n"})}),"\n",(0,s.jsx)(n.p,{children:"There are also useful shortcuts:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-text",children:"@reboot Run once, at startup.\n@yearly Run once a year (replaces: 0 0 1 1 *)\n@monthly Run once a month (replaces: 0 0 1 * *)\n@weekly Run once a week (replaces: 0 0 * * 0)\n@daily Run once a day (replaces: 0 0 * * *)\n@hourly Run once an hour (replaces: 0 * * * *)\n"})}),"\n",(0,s.jsx)(n.h2,{id:"startup-scripts",children:"Startup Scripts"}),"\n",(0,s.jsxs)(n.p,{children:["When the system is started, after the kernel loads all modules, the kernel starts a daemon called ",(0,s.jsx)(n.code,{children:"init"})," or ",(0,s.jsx)(n.code,{children:"initd"})," in ",(0,s.jsx)(n.code,{children:"pid=1"}),". The daemon runs scripts found in ",(0,s.jsx)(n.code,{children:"/etc/init.d/rc"})," which are necessary for system service startup."]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"/etc/init"})," is where the upstart init configs live. While they are not scripts themselves, they essentially execute whatever is required to replace sysvinit scripts."]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"/etc/init.d"}),' is where all the traditional sysvinit scripts and the backward compatible scripts for upstart live. The backward compatible scripts basically run service myservice start instead of doing anything themselves. Some just show a notice to use the "service" command.']}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"/etc/init/rc-sysinit.conf"})," controls execution of traditional scripts added manually or with ",(0,s.jsx)(n.code,{children:"update-rc.d"})," to traditional runlevels in ",(0,s.jsx)(n.code,{children:"/etc/rc*"})]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"/etc/default"})," has configuration files allowing you to control the behaviour of both traditional ",(0,s.jsx)(n.code,{children:"sysvinit"})," scripts and new upstart configs."]}),"\n",(0,s.jsx)(n.p,{children:"We can add services to run at startup by using:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"update-rc.d $NAME_OF_SCRIPT_SVC remove|defaults|enable|disable\n\n# To add a script\nsudo mv script.sh /etc/init.d\nupdate-rc.d script.sh defaults\n"})}),"\n",(0,s.jsx)(n.h2,{id:"runlevels",children:"Runlevels"}),"\n",(0,s.jsxs)(n.p,{children:["A ",(0,s.jsx)(n.code,{children:"runlevel"})," is the mode of operation which defines the state of the machine after boot.\nThere are 7 levels:\n",(0,s.jsx)(n.img,{src:"https://www.linuxvasanth.com/wp-content/uploads/2019/01/NN.jpg",alt:"nn"})]}),"\n",(0,s.jsxs)(n.p,{children:["When loading a server without GUI, the ",(0,s.jsx)(n.code,{children:"runlevel"})," is usually 3 and with GUI it's 5. When the server is rebooted, it enters ",(0,s.jsx)(n.code,{children:"runlevel"})," 6."]}),"\n",(0,s.jsxs)(n.p,{children:["To check the ",(0,s.jsx)(n.code,{children:"runlevel"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"runlevel\n# N 5\n"})})]})}function h(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},28453:(e,n,t)=>{t.d(n,{R:()=>c,x:()=>r});var s=t(96540);const i={},o=s.createContext(i);function c(e){const n=s.useContext(o);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:c(e.components),s.createElement(o.Provider,{value:n},e.children)}}}]);