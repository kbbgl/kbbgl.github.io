"use strict";(globalThis.webpackChunkkgkb=globalThis.webpackChunkkgkb||[]).push([[22564],{44618:(e,s,t)=>{t.r(s),t.d(s,{assets:()=>r,contentTitle:()=>o,default:()=>d,frontMatter:()=>i,metadata:()=>l,toc:()=>h});var n=t(74848),a=t(28453);const i={slug:"add-timestamp-history",title:"Adding Timestamps to Shell History",authors:["kgal-akl"],tags:["tools","bash","shell","zsh","history"]},o=void 0,l={id:"software/languages/shell/history",title:"Adding Timestamps to Shell History",description:"Bash",source:"@site/docs/software/languages/shell/history.md",sourceDirName:"software/languages/shell",slug:"/software/languages/shell/add-timestamp-history",permalink:"/docs/software/languages/shell/add-timestamp-history",draft:!1,unlisted:!1,tags:[{inline:!0,label:"tools",permalink:"/docs/tags/tools"},{inline:!0,label:"bash",permalink:"/docs/tags/bash"},{inline:!0,label:"shell",permalink:"/docs/tags/shell"},{inline:!0,label:"zsh",permalink:"/docs/tags/zsh"},{inline:!0,label:"history",permalink:"/docs/tags/history"}],version:"current",frontMatter:{slug:"add-timestamp-history",title:"Adding Timestamps to Shell History",authors:["kgal-akl"],tags:["tools","bash","shell","zsh","history"]},sidebar:"docsSidebar",previous:{title:"Displaying Native GUI Notifications from Bash",permalink:"/docs/software/languages/shell/gui_notifications"},next:{title:"Bash Loops",permalink:"/docs/software/languages/shell/bash-loops"}},r={},h=[{value:"Bash",id:"bash",level:2},{value:"ZSH",id:"zsh",level:2}];function c(e){const s={code:"code",h2:"h2",p:"p",pre:"pre",...(0,a.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(s.h2,{id:"bash",children:"Bash"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-bash",children:"vim ~/.bashrc\n"})}),"\n",(0,n.jsxs)(s.p,{children:["Add the following line to the end of the file to set the timestamp format. This example uses an ISO-like format (Year-Month-Day Hour:Minute",":Second","):"]}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-bash",children:'export HISTTIMEFORMAT="%F %T "\n'})}),"\n",(0,n.jsxs)(s.p,{children:["The space after %T ensures a clean separation between the timestamp and the command itself. You can customize the format using ",(0,n.jsx)(s.code,{children:"strftime"})," options."]}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-bash",children:"source ~/.bashrc\n"})}),"\n",(0,n.jsx)(s.h2,{id:"zsh",children:"ZSH"}),"\n",(0,n.jsxs)(s.p,{children:["Zsh handles history timestamps slightly differently. You don't need ",(0,n.jsx)(s.code,{children:"HISTTIMEFORMAT"})," for saving, but you do need an option to enable the feature, and a flag to display the output."]}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-bash",children:"vim ~/.zshrc\n"})}),"\n",(0,n.jsx)(s.p,{children:"Add the following line to enable the saving of timestamps with history entries:"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-bash",children:"setopt EXTENDED_HISTORY\n"})}),"\n",(0,n.jsxs)(s.p,{children:["This option saves the history records in the ",(0,n.jsx)(s.code,{children:"~/.zsh_history"})," file with timestamps in Unix epoch format (e.g., #1506591948)."]}),"\n",(0,n.jsx)(s.p,{children:"Add the following line to enable appending history immediately and sharing it across sessions (optional, but recommended):"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-bash",children:"setopt INC_APPEND_HISTORY\n\n# or\nsetopt sharehistory\n"})}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-bash",children:"source ~/.zshrc\n"})}),"\n",(0,n.jsxs)(s.p,{children:["View your history with timestamps using the built-in ",(0,n.jsx)(s.code,{children:"fc"})," command (which ",(0,n.jsx)(s.code,{children:"history"})," is an alias for in ZSH) and the -i flag for ISO format output:"]}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-bash",children:"history -i\n"})}),"\n",(0,n.jsxs)(s.p,{children:["You can also use other flags like ",(0,n.jsx)(s.code,{children:"-f"})," (US format), ",(0,n.jsx)(s.code,{children:"-E"})," (European format), or ",(0,n.jsx)(s.code,{children:"-t"})," for a custom ",(0,n.jsx)(s.code,{children:"strftime"})," format."]})]})}function d(e={}){const{wrapper:s}={...(0,a.R)(),...e.components};return s?(0,n.jsx)(s,{...e,children:(0,n.jsx)(c,{...e})}):c(e)}},28453:(e,s,t)=>{t.d(s,{R:()=>o,x:()=>l});var n=t(96540);const a={},i=n.createContext(a);function o(e){const s=n.useContext(i);return n.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function l(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:o(e.components),n.createElement(i.Provider,{value:s},e.children)}}}]);