"use strict";(globalThis.webpackChunkkgkb=globalThis.webpackChunkkgkb||[]).push([[47007],{42142:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>s,default:()=>m,frontMatter:()=>r,metadata:()=>i,toc:()=>c});var a=t(74848),o=t(28453);const r={title:"How to Deploy Prometheus and Grafana in Kubernetes",slug:"how-to-deploy-prometheus-grafana-k8s",app2or:"kgal-akl",tags:["devops","monitoring","kubernetes","grafana","prometheus","metrics","k8s","helm"]},s=void 0,i={id:"software/containerization/kubernetes/Monitoring/prometheus_grafana",title:"How to Deploy Prometheus and Grafana in Kubernetes",description:"Add Prometheus Data Source to Grafana",source:"@site/docs/software/containerization/kubernetes/Monitoring/prometheus_grafana.md",sourceDirName:"software/containerization/kubernetes/Monitoring",slug:"/software/containerization/kubernetes/Monitoring/how-to-deploy-prometheus-grafana-k8s",permalink:"/docs/software/containerization/kubernetes/Monitoring/how-to-deploy-prometheus-grafana-k8s",draft:!1,unlisted:!1,tags:[{inline:!0,label:"devops",permalink:"/docs/tags/devops"},{inline:!0,label:"monitoring",permalink:"/docs/tags/monitoring"},{inline:!0,label:"kubernetes",permalink:"/docs/tags/kubernetes"},{inline:!0,label:"grafana",permalink:"/docs/tags/grafana"},{inline:!0,label:"prometheus",permalink:"/docs/tags/prometheus"},{inline:!0,label:"metrics",permalink:"/docs/tags/metrics"},{inline:!0,label:"k8s",permalink:"/docs/tags/k-8-s"},{inline:!0,label:"helm",permalink:"/docs/tags/helm"}],version:"current",frontMatter:{title:"How to Deploy Prometheus and Grafana in Kubernetes",slug:"how-to-deploy-prometheus-grafana-k8s",app2or:"kgal-akl",tags:["devops","monitoring","kubernetes","grafana","prometheus","metrics","k8s","helm"]},sidebar:"docsSidebar",previous:{title:"get_sisenseownerid",permalink:"/docs/software/containerization/kubernetes/Monitoring/fluent/get_sisenseownerid"},next:{title:"calico_architecture",permalink:"/docs/software/containerization/kubernetes/Network/calico/calico_architecture"}},l={},c=[{value:"Add Prometheus Data Source to Grafana",id:"add-prometheus-data-source-to-grafana",level:2}];function u(e){const n={code:"code",h2:"h2",pre:"pre",...(0,o.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"kubectl create namespace monitoring\n"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"helm repo add prometheus-community \\ \n\thttps://prometheus-community.github.io/helm-charts\nhelm repo update\nhelm install prometheus prometheus-community/prometheus --namespace monitoring\n"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:'helm repo add grafana https://grafana.github.io/helm-charts\nhelm install grafana grafana/grafana \\\n\t--namespace monitoring \\\n\t--set adminPassword="admin" \\\n\t--set service.type=LoadBalancer \\\n\t--set service.port=30080\n'})}),"\n",(0,a.jsx)(n.h2,{id:"add-prometheus-data-source-to-grafana",children:"Add Prometheus Data Source to Grafana"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"kubectl port-forward -n monitoring grafana 3000:3000\n\nAfter logging into Grafana, go to `http:///localhost:3000/connections/datasources` > Add New Data Source > Prometheus. \n\nIn the Prometheus server URL enter `http://prometheus-server.default.svc.cluster.local`.\n"})})]})}function m(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(u,{...e})}):u(e)}},28453:(e,n,t)=>{t.d(n,{R:()=>s,x:()=>i});var a=t(96540);const o={},r=a.createContext(o);function s(e){const n=a.useContext(r);return a.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:s(e.components),a.createElement(r.Provider,{value:n},e.children)}}}]);