"use strict";(self.webpackChunkkgkb=self.webpackChunkkgkb||[]).push([[13494],{42734:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>u,contentTitle:()=>l,default:()=>c,frontMatter:()=>r,metadata:()=>s,toc:()=>a});var o=n(74848),i=n(28453);const r={slug:"prod-down-mongodb-corrupt-heketi-glusterfs-provisioning",title:"Fixing Production Down caused by MongoDB Corruption and Heketi/GlusterFS Failed\xa0Provisioning",description:"Fill me up!",authors:["kbbgl"],tags:["cluster","gluster","glusterfs","heketi","kubectl","kubernetes","mongo","mongodb","production","troubleshooting"]},l=void 0,s={permalink:"/blog/prod-down-mongodb-corrupt-heketi-glusterfs-provisioning",source:"@site/blog/prod-down-mongodb-corrupt-heketi-glusterfs-provisioning.md",title:"Fixing Production Down caused by MongoDB Corruption and Heketi/GlusterFS Failed\xa0Provisioning",description:"Fill me up!",date:"2025-02-07T08:06:58.000Z",tags:[{inline:!1,label:"Cluster",permalink:"/blog/tags/cluster"},{inline:!1,label:"Gluster",permalink:"/blog/tags/gluster"},{inline:!1,label:"Glusterfs",permalink:"/blog/tags/glusterfs"},{inline:!1,label:"Heketi",permalink:"/blog/tags/heketi"},{inline:!1,label:"Kubectl",permalink:"/blog/tags/kubectl"},{inline:!1,label:"Kubernetes",permalink:"/blog/tags/kubernetes"},{inline:!1,label:"Mongo",permalink:"/blog/tags/mongo"},{inline:!1,label:"Mongodb",permalink:"/blog/tags/mongodb"},{inline:!1,label:"Production",permalink:"/blog/tags/production"},{inline:!1,label:"Troubleshooting",permalink:"/blog/tags/troubleshooting"}],readingTime:10.625,hasTruncateMarker:!0,authors:[{name:"Kobbi Gal",title:"I like to pick things apart and see how they work inside",url:"https://github.com/kbbgl",imageURL:"https://avatars.githubusercontent.com/u/14372649",key:"kbbgl",page:null}],frontMatter:{slug:"prod-down-mongodb-corrupt-heketi-glusterfs-provisioning",title:"Fixing Production Down caused by MongoDB Corruption and Heketi/GlusterFS Failed\xa0Provisioning",description:"Fill me up!",authors:["kbbgl"],tags:["cluster","gluster","glusterfs","heketi","kubectl","kubernetes","mongo","mongodb","production","troubleshooting"]},unlisted:!1,prevItem:{title:"Deploying PostgresSQL in Kubernetes",permalink:"/blog/pgsql-k8s"}},u={authorsImageUrls:[void 0]},a=[{value:"Introduction",id:"introduction",level:2}];function g(e){const t={a:"a",code:"code",h2:"h2",p:"p",...(0,i.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(t.h2,{id:"introduction",children:"Introduction"}),"\n",(0,o.jsxs)(t.p,{children:["Today I received an escalation from one of our largest and most strategic customers. Over the weekend, the customer had \u2018patched\u2019 their 3 Ubuntu 18.04 nodes running Kubernetes 1.17.  They were using ",(0,o.jsx)(t.a,{href:"https://www.gluster.org/",children:(0,o.jsx)(t.code,{children:"glusterfs"})})," as their shared storage class."]})]})}function c(e={}){const{wrapper:t}={...(0,i.R)(),...e.components};return t?(0,o.jsx)(t,{...e,children:(0,o.jsx)(g,{...e})}):g(e)}},28453:(e,t,n)=>{n.d(t,{R:()=>l,x:()=>s});var o=n(96540);const i={},r=o.createContext(i);function l(e){const t=o.useContext(r);return o.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function s(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:l(e.components),o.createElement(r.Provider,{value:t},e.children)}}}]);