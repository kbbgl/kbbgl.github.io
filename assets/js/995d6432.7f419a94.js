"use strict";(self.webpackChunkkgkb=self.webpackChunkkgkb||[]).push([[15559],{26249:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>c,contentTitle:()=>a,default:()=>u,frontMatter:()=>t,metadata:()=>i,toc:()=>l});var s=r(74848),o=r(28453);const t={},a="Debug NodeJS in Chrome",i={id:"software/languages/javascript/NodeJS/Debug_NodeJS_in_Chrome",title:"Debug NodeJS in Chrome",description:"On server running Kubernetes cluster",source:"@site/docs/software/languages/javascript/NodeJS/Debug_NodeJS_in_Chrome.md",sourceDirName:"software/languages/javascript/NodeJS",slug:"/software/languages/javascript/NodeJS/Debug_NodeJS_in_Chrome",permalink:"/docs/software/languages/javascript/NodeJS/Debug_NodeJS_in_Chrome",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{},sidebar:"docsSidebar",previous:{title:"Merge Attributes into Object",permalink:"/docs/software/languages/javascript/JSONQuery/merge_attributes_to_one"},next:{title:"Debug NodeJS in VSCode",permalink:"/docs/software/languages/javascript/NodeJS/Debug_NodeJS_in_VSCode"}},c={},l=[{value:"On server running Kubernetes cluster",id:"on-server-running-kubernetes-cluster",level:2},{value:"On local machine",id:"on-local-machine",level:2}];function d(e){const n={code:"code",h1:"h1",h2:"h2",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",...(0,o.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"debug-nodejs-in-chrome",children:"Debug NodeJS in Chrome"})}),"\n",(0,s.jsx)(n.h2,{id:"on-server-running-kubernetes-cluster",children:"On server running Kubernetes cluster"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Set up inspection in Node container:"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"kubectl edit deployment api-gateway\n"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-yaml",children:"Containers:\n api-gateway:\n     Command:\n         ...\n            node --inspect-brk=0.0.0.0:9229 app.js;\n"})}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["Forward container debugging port (",(0,s.jsx)(n.code,{children:"9229"}),") to Kubernetes node:"]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"kubectl port-forward $POD_NAME --address=0.0.0.0 9229:9229\n"})}),"\n",(0,s.jsx)(n.h2,{id:"on-local-machine",children:"On local machine"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["Create ssh session to remote machine that will forward connection to port ",(0,s.jsx)(n.code,{children:"9221"}),":"]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"ssh -L 9221:localhost:9229 user@host\n"})}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Open Chrome and visit:"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-text",children:"chrome://inspect\n"})}),"\n",(0,s.jsx)(n.p,{children:"Click on Configure and add:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-text",children:"localhost:9221\n"})}),"\n",(0,s.jsx)(n.p,{children:"To Target discovery settings."}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Under Remote Target #LOCALHOST you should see app.js."}),"\n",(0,s.jsx)(n.li,{children:"Go to Sources tab, Node and there will be the tree of the project."}),"\n",(0,s.jsx)(n.li,{children:"Set debugger."}),"\n"]})]})}function u(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},28453:(e,n,r)=>{r.d(n,{R:()=>a,x:()=>i});var s=r(96540);const o={},t=s.createContext(o);function a(e){const n=s.useContext(t);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:a(e.components),s.createElement(t.Provider,{value:n},e.children)}}}]);